"""Test module for ${test_name} flow.

This module implements the test flow for ${test_description}.
"""

from playwright.sync_api import APIResponse
from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from services.${snake_case_name}.${snake_case_name}_page import ${class_name}Page


def run(${snake_case_name}: '${class_name}Page') -> APIResponse:
    """Execute ${test_name} test flow.

    This test validates the ${test_description} functionality.

    Args:
        ${snake_case_name}: Instance of ${class_name}Page

    Returns:
        APIResponse: HTTP response from the API

    Raises:
        AssertionError: If test assertions fail
    """
    print(f"Running ${test_name} test...")

    # Default health check test - validates the service is running
    response = ${snake_case_name}.get("/health")

    # Assert: Verify the service is healthy
    assert response.ok, f"Health check failed with status {response.status}: {response.text()}"

    print(f"âœ“ ${test_name} test completed successfully")
    return response
