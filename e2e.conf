# Configuración E2E para socialseed-e2e
# Documentación: https://github.com/daironpf/socialseed-e2e

# IMPORTANT: Dependencies required
# This project requires email-validator to be installed
# Install with: pip install email-validator>=2.0.0
# Or if installing from requirements: pip install -r requirements.txt

# ⭐ TIP: Configure remote URLs with:
#   e2e set url <service_name> <url>
#   e2e set url auth_service https://my-api.azurewebsites.net
#   e2e set url auth_service https://my-api.execute-api.us-east-1.amazonaws.com

general:
  # Entorno de ejecución (dev, staging, production)
  environment: dev

  # Timeout global para requests en milisegundos
  timeout: 30000

  # User agent para requests HTTP
  user_agent: "socialseed-e2e/1.0"

  # Modo verbose para debugging
  verbose: true

# Configuración de servicios
# Define cada servicio a testear
services:
  # Demo REST API Service (ready to use)
  # Start the demo API: python api-rest-demo.py
  demo-api:
    base_url: http://localhost:5000
    health_endpoint: /health
    timeout: 5000
    auto_start: false
    required: true

  # Demo gRPC API Service
  # Start: python api-grpc-demo.py (requires: pip install grpcio grpcio-tools)
  # Generate proto: python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. api-grpc-demo.proto
  grpc-demo:
    base_url: localhost:50051
    protocol: grpc
    timeout: 5000
    auto_start: false
    required: false

  # Demo WebSocket API Service
  # Start: python api-websocket-demo.py (requires: pip install aiohttp)
  websocket-demo:
    base_url: ws://localhost:50052
    health_endpoint: /health
    timeout: 5000
    auto_start: false
    required: false

  # Demo Auth API Service (JWT Bearer)
  # Start: python api-auth-demo.py (requires: pip install pyjwt cryptography)
  # Default users: admin/admin123, user1/user123, moderator1/mod123
  auth-demo:
    base_url: http://localhost:5003
    health_endpoint: /health
    timeout: 5000
    auto_start: false
    required: false


# Dependencies Configuration
# ==========================
# Required Python packages:
# - pydantic>=2.0.0
# - email-validator>=2.0.0 (required for Pydantic email validation)
# - playwright>=1.40.0
# - pyyaml>=6.0
#
# Install all dependencies:
#   pip install -r requirements.txt
#
# Or manually:
#   pip install pydantic email-validator playwright pyyaml
